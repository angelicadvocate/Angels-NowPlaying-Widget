# Project TODO Snapshot

This file is the current task snapshot for the Angels Now-Playing Widget project. Completed items are kept for context; active priorities are listed at the top.

Generated: October 14, 2025

## Completed
- Normalize F2 runtime HTML to use `.text-clip` — complete.
- Fix F3 scroller slowdown — rewrote scroller to use transform + requestAnimationFrame and updated reveal logic.
- Revert temporary debug and test values — removed `data-debug-scroller` usage and debug console output from `js/common.js`. Backup `js/common.js.bak` retained.
- Polish `js/common.js` and clean debug logs — completed.
- Smoke-test F1–F4 — user confirmed F1–F4 tested and working in OBS.

## Top priority
- Test editor `generateCSS()` end-to-end for frames F1–F4 (manual integration test):
  - Open each editor (F1–F4), generate CSS, download the file.
  - Replace the corresponding file in `css/` with the downloaded CSS.
  - Load the matching HTML frame in OBS (or a local static server + browser) and verify:
    - Text displays correctly and long titles scroll using the JS scroller.
    - Progress bar updates and artwork loads.
    - No console errors related to missing classes or CSS variables.
  - Record any mismatches (file name, missing class names, different variable names) and file small follow-up fixes.

## In Progress / Next
- Update editor `generateCSS()` to emit CSS that matches the runtime frame structure (use `.text-clip`, `.text-row`, `.text-inner`, and the runtime variable names) so downloaded CSS works with `js/common.js`.

## Medium priority
- Add placeholder HTML files for frames 5–7 that display `static_assets/coming-soon.png`.
- Run lint/static checks and address obvious DOM-query/usability issues in `js/common.js`.

## Low priority / Future
- Add per-frame JSON configs to make `js/common.js` fully declarative.
- Add automated visual regression tests (requires serving over HTTP during test runs).

## Notes
- The active runtime JS is `js/common.js`. A backup with debug traces is saved as `js/common.js.bak` in the same folder.
- Per-frame tuning variables are located in `css_files/*-Styles.css` (notably `--scroll-extra` and `--scroll-start-offset`).
- OBS file:// behavior varies by environment; for local browser testing, prefer running a static HTTP server.

## Suggested next steps
1. Run the Top priority integration test for F1–F4 and file any mismatches as issues.
2. When editor `generateCSS()` is stable, consider adding a small automated test harness (optional manual script) to exercise the download-and-verify flow.
3. When no longer needed, remove `js/common.js.bak` or move it to an `archive/` folder.
